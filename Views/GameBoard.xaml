<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:SpellingBeebeto.ViewModels.GameElements"
             x:Class="SpellingBeebeto.Views.GameBoard"
             xmlns:fontAwesome="SpellingBeebeto.Utilities.FontAwesomeIcons">
    <VerticalStackLayout Spacing="10" Margin="10">
        <HorizontalStackLayout Spacing="10">
            <Image Source="bee.png"
                   SemanticProperties.Description="The Spelling Beebeto bee!"
                   HeightRequest="64" />
            <Label FontSize="22" FontAttributes="Bold" Text="{Binding Title}" VerticalOptions="End" />
            <Label FontSize="22" Text="{Binding Version}" VerticalOptions="End" />
        </HorizontalStackLayout>

        <HorizontalStackLayout Spacing="10" HorizontalOptions="Start">
            <CollectionView ItemsSource="{Binding LatestWords}" InputTransparent="True" ItemsLayout="HorizontalList">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Label Text="{Binding}" Margin="10" FontSize="Medium" />
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </HorizontalStackLayout>

        <HorizontalStackLayout Spacing="10" HorizontalOptions="Center">
            <Label x:Name="WordLabel" Text="{Binding Word.Text}" FontSize="Large"/>
        </HorizontalStackLayout>

        <HorizontalStackLayout Spacing="10" HorizontalOptions="Center">
            <Button Text="{Binding Tiles[0].Letter}" Command="{Binding Tiles[0].ClickTileCommand}" VerticalOptions="Start" HeightRequest="50" WidthRequest="50"/>
            <Button Text="{Binding Tiles[1].Letter}" Command="{Binding Tiles[1].ClickTileCommand}" VerticalOptions="Start" HeightRequest="50" WidthRequest="50"/>
        </HorizontalStackLayout>

        <HorizontalStackLayout Spacing="10" HorizontalOptions="Center">
            <Button Text="{Binding Tiles[2].Letter}" Command="{Binding Tiles[2].ClickTileCommand}" VerticalOptions="Start" HeightRequest="50" WidthRequest="50"/>
            <Button Text="{Binding KeyTile.Letter}" Command="{Binding KeyTile.ClickTileCommand}" VerticalOptions="Start" HeightRequest="50" WidthRequest="50">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="TextColor" Value="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Primary}}" />
                        <Setter Property="BackgroundColor" Value="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource White}}" />
                    </Style>
                </Button.Style>
            </Button>
            <Button Text="{Binding Tiles[3].Letter}" Command="{Binding Tiles[3].ClickTileCommand}" VerticalOptions="Start" HeightRequest="50" WidthRequest="50"/>
        </HorizontalStackLayout>

        <HorizontalStackLayout Spacing="10" HorizontalOptions="Center">
        <Button Text="{Binding Tiles[4].Letter}" Command="{Binding Tiles[4].ClickTileCommand}" VerticalOptions="Start" HeightRequest="50" WidthRequest="50"/>
        <Button Text="{Binding Tiles[5].Letter}" Command="{Binding Tiles[5].ClickTileCommand}" VerticalOptions="Start" HeightRequest="50" WidthRequest="50"/>
        </HorizontalStackLayout>

        <HorizontalStackLayout Spacing="10" Margin="10" HorizontalOptions="Center">
            <Button Text="Delete" Command="{Binding DeleteLetterCommand}" />
            <Button Text="{x:Static fontAwesome:FontAwesomeIcons.Shuffle}" Command="{Binding ShuffleTilesCommand}">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="FontFamily" Value="FontAwesomeSolid"/>
                    </Style>
                </Button.Style>
            </Button>
            <Button Text="Submit" Command="{Binding SubmitWordCommand}" />
        </HorizontalStackLayout>
    </VerticalStackLayout>
</ContentPage>
